(function(){"use strict";var e={2454:function(e,t,a){var i=a(20144),s=a(78345),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":"登录中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-form",{ref:"form",staticClass:"loginFormTable",attrs:{rules:e.rules,model:e.loginForm}},[a("h3",{staticClass:"loginTitle"},[e._v("系统登录")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"230px"},attrs:{type:"text",placeholder:"点击图片更换验证码"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),a("img",{attrs:{src:e.captchaUrl},on:{click:e.updateCaptcha}})],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.loginHandler}},[e._v("登录")]),a("hr"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.toRegister}},[e._v("去注册")]),a("hr"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.toReset}},[e._v("找回密码")])],1)],1)},l=[],n={name:"Login",data(){return{imageKey:"",loading:!1,loginForm:{username:"",password:"",code:""},captchaUrl:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created(){window.document.title="用户登录",this.updateCaptcha()},methods:{loginHandler(){this.$refs.form.validate((e=>{e?(this.loading=!0,this.httpRequest.post("/user/login?code="+this.loginForm.code+"&imageKey="+this.imageKey,{username:this.loginForm.username,password:this.loginForm.password}).then((e=>{this.loading=!1,e.data.code>2e4&&this.$router.replace("/"),this.$router.replace("/index")})).catch((e=>{this.$router.replace("/")}))):this.$router.replace("/"),this.updateCaptcha()}))},updateCaptcha(){this.loginForm.code="",this.imageKey="";let e=a(67429);this.imageKey=e.v1(),this.captchaUrl="http://nobibibi.top:8888/user/captcha?imageKey="+this.imageKey},toRegister(){this.$router.replace("/register")},toReset(){this.$router.replace("/reset")}}},o=n,c=a(1001),d=(0,c.Z)(o,r,l,!1,null,"6dbae7e4",null),u=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",{staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",overflow:"auto"}},[a("el-header",{staticClass:"header"},[a("div",[a("div",{staticClass:"loginImg"},[a("img",{attrs:{src:"/logo/logo.png",width:"50",height:"50"}})])]),a("div",{staticClass:"user_info"},[null!=e.token?a("el-dropdown",{on:{command:e.userCommandHandler}},[a("div",[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("注销登录")])],1)],1):a("el-button",{attrs:{type:"primary",round:""},on:{click:e.toLogin}},[e._v("去登录")])],1)]),a("el-container",[a("el-aside",{staticStyle:{"background-color":"#245953",height:"90vh"},attrs:{width:"300px"}},[a("el-menu",{attrs:{"background-color":"#282726","text-color":"#fff","active-text-color":"#A37C27","default-active":e.activeIndex},on:{select:e.userItemHandler}},[a("el-menu-item",{attrs:{index:"/index"}},[a("i",{staticClass:"el-icon-first-aid-kit"}),e._v("系统首页")]),e._l(e.menus,(function(t,i){return a("el-submenu",{key:i,attrs:{index:t.menuIndex.toString()}},[a("hr",{attrs:{color:"#583e2e"}}),a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),e._v(e._s(t.menuName))]),e._l(t.menuItems,(function(t,i){return a("el-menu-item",{key:i,attrs:{index:t.menuPath.toString()}},[e._v(e._s(t.menuName))])}))],2)}))],2)],1),a("el-main",[a("router-view")],1)],1)],1)],1)},m=[],g={name:"Main",data(){return{menus:[],token:null,activeIndex:"/index",currentIndex:"/index"}},mounted(){this.activeIndex=this.$route.path},created(){window.document.title="主页面",this.activeIndex="/index",this.checkLogin()},methods:{userItemHandler(e){this.$router.push(e)},checkLogin(){null!=localStorage.getItem("token")&&(this.token=localStorage.getItem("token"),this.menus=JSON.parse(localStorage.getItem("menus")))},toLogin(){this.$router.replace("/")},userCommandHandler(e){"logout"==e&&this.httpRequest.get("/user/logout").then((e=>{localStorage.clear(),this.$router.replace("/")}))}}},h=g,f=(0,c.Z)(h,p,m,!1,null,"f150b4b8",null),b=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_list"},[a("el-button",{staticClass:"addUser",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:e.showUserAddForm}}),a("el-dialog",{attrs:{title:"用户添加",visible:e.userAddVisible,width:"30%","before-close":e.addHandleClose}},[a("span",[a("el-form",{ref:"addForm",attrs:{model:e.userForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{type:"text"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{type:"email"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,"sex",t)},expression:"userForm.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.userAddVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("添加")])],1)]),a("el-dialog",{attrs:{title:"菜单授权",visible:e.menuAuthVisible,width:"80%","before-close":e.authHandleClose}},[a("span",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.menuList,"tooltip-effect":"dark",align:"center",border:"",height:"400"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"菜单名字",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.menuName))])],1)]}}])}),a("el-table-column",{attrs:{label:"菜单路径",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.menuPath))])],1)]}}])})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.menuAuthVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addMenu}},[e._v("添加")])],1)]),a("el-button",{staticClass:"queryButton",attrs:{type:"success"},on:{click:e.queryByName}},[e._v("用户查询")]),a("el-input",{staticClass:"queryUser",attrs:{placeholder:"请输入用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("el-divider"),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,height:"700"}},[a("el-table-column",{attrs:{label:"用户编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.username))])],1)]}}])}),a("el-table-column",{attrs:{label:"密码",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.password))])],1)]}}])}),a("el-table-column",{attrs:{label:"性别",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:""}},[e._v(e._s(t.row.sex))])],1)]}}])}),a("el-table-column",{attrs:{label:"创建时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:""}},[e._v(e._s(t.row.createTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"登录时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:""}},[e._v(e._s(t.row.loginTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"450",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.authEdit(t.$index,t.row)}}},[e._v("菜单授权 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.resetPassWord(t.$index,t.row)}}},[e._v("重置密码 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"用户修改",visible:e.userEditVisible,width:"30%","before-close":e.editHandleClose}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("span",[a("el-form",{ref:"editForm",attrs:{model:e.userForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"用户id",prop:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userForm.id,callback:function(t){e.$set(e.userForm,"id",t)},expression:"userForm.id"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{type:"text"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,"sex",t)},expression:"userForm.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1)],1)]),a("el-tab-pane",{attrs:{label:"角色管理",name:"second"}},[a("div",{staticClass:"checkScrol"},[a("el-table",{ref:"multipleTableRole",staticStyle:{width:"100%"},attrs:{data:e.roleList,"tooltip-effect":"dark",align:"center",border:"",height:"250"},on:{"selection-change":e.handleSelectionChangeRole}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"角色id",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.id))])],1)]}}])}),a("el-table-column",{attrs:{label:"角色名",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.roleName))])],1)]}}])})],1)],1)]),a("el-tab-pane",{attrs:{label:"权限管理",name:"third"}},[a("div",{staticClass:"checkScrol"},[a("el-table",{ref:"multipleTablePermission",staticStyle:{width:"100%"},attrs:{data:e.permissionList,"tooltip-effect":"dark",align:"center",border:"",height:"250"},on:{"selection-change":e.handleSelectionChangePermisstion}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"权限id",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.id))])],1)]}}])}),a("el-table-column",{attrs:{label:"权限名",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.permissionName))])],1)]}}])})],1)],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.userEditVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editUser}},[e._v("修改")])],1)],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},w=[],y={name:"UserList",data(){return{userList:[],userAddVisible:!1,userEditVisible:!1,menuAuthVisible:!1,username:"",userForm:{id:"",username:"",password:"",sex:"",email:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],email:[{required:!0,message:"邮箱必填",trigger:"blur"}]},pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},activeName:"first",userId:null,roleList:[],menuList:[],multipleTable:[],permissionList:[],multipleTableRole:[],multipleTablePermission:[]}},created(){window.document.title="用户管理",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{handleSelectionChange(e){this.multipleTable=e},handleSelectionChangeRole(e){this.multipleTableRole=e},handleSelectionChangePermisstion(e){this.multipleTablePermission=e},getAllMenuList(){this.httpRequest.get("menu/menuList").then((e=>{this.menuList=e.data.menuList}))},SelectionChange(e){this.$nextTick((()=>{null!=e&&e.forEach((e=>{this.$refs.multipleTable.toggleRowSelection(this.menuList.find((t=>e.id==t.id)),!0)}))}))},SelectionChangePR(e){this.$nextTick((()=>{null!=e&&e.forEach((e=>{this.$refs.multipleTablePermission.toggleRowSelection(this.permissionList.find((t=>e.id==t.id)),!0)}))}))},SelectionChangeROLE(e){this.$nextTick((()=>{null!=e&&e.forEach((e=>{this.$refs.multipleTableRole.toggleRowSelection(this.roleList.find((t=>e.id==t.id)),!0)}))}))},changeCurrentPageHandler(e){this.httpRequest.get("user/userPage?page="+e+"&limit="+this.pagination.pageSize+"&username="+this.username+"&orderFiled=id&orderType=1").then((e=>{this.pagination.currentPage=e.data.userList.currentPage,this.pagination.pageSize=e.data.userList.pageSize,this.pagination.total=e.data.userList.totalSize,this.pagination.totalPage=e.data.userList.totalPage,this.userList=e.data.userList.resultList}))},queryByName(){this.changeCurrentPageHandler(1)},addHandleClose(){this.userAddVisible=!1},showUserAddForm(){this.userForm={},this.userAddVisible=!0},resetPassWord(e,t){this.httpRequest.post("user/resetPassWord/"+t.id).then((e=>{this.changeCurrentPageHandler(1)}))},addMenu(){var e=[];this.multipleTable.forEach((t=>{e.push(t.id)}));let t={userId:this.userId,menuIds:e};this.httpRequest.post("menu/alterMenuAuth",t).then((e=>{this.menuAuthVisible=!1,this.changeCurrentPageHandler(1),this.menuList=[],this.multipleTable=[]}))},addUser(){this.$refs.addForm.validate((e=>{e?this.httpRequest.post("user/addUser",this.userForm).then((e=>{this.changeCurrentPageHandler(1),this.userForm={},this.userAddVisible=!1})):message.error("请完善数据")}))},authEdit(e,t){this.menuAuthVisible=[],this.menuList=[],this.getAllMenuList(),this.httpRequest.get("menu/currentUserMenuAuth?userId="+t.id).then((e=>{this.SelectionChange(e.data.checkedMenuList)})),this.userId=t.id,this.menuAuthVisible=!0},handleEdit(e,t){this.userForm=t,this.userEditVisible=!0,this.httpRequest.get("role/roleList").then((e=>{this.roleList=e.data.roleList})),this.httpRequest.get("permission/permissionList").then((e=>{this.permissionList=e.data.permissionList})),this.getPermissiongAndRoleSelected()},getPermissiongAndRoleSelected(){this.httpRequest.get("user/permissionList?id="+this.userForm.id).then((e=>{this.SelectionChangePR(e.data.permissionList)})),this.httpRequest.get("user/roleList?id="+this.userForm.id).then((e=>{this.SelectionChangeROLE(e.data.roleList)}))},editHandleClose(){this.userEditVisible=!1,this.roleIds=[],this.roleList=[]},authHandleClose(){this.menuAuthVisible=!1,this.menuList=[],this.multipleTable=[]},editUser(){this.$refs.editForm.validate((e=>{if(e){let e=[];this.multipleTableRole.forEach((t=>{e.push(t.id)}));let t=[];this.multipleTablePermission.forEach((e=>{t.push(e.id)}));let a={id:this.userForm.id,username:this.userForm.username,password:this.userForm.password,sex:this.userForm.sex,roleIds:e,permissionIds:t};this.httpRequest.post("user/editUser",a).then((e=>{this.changeCurrentPageHandler(this.pagination.currentPage),this.userForm={},this.roleIds=[],this.userEditVisible=!1}))}else message.error("请完善数据")}))},handleDelete(e,t){this.httpRequest.post("user/deleteUser",{id:t.id}).then((e=>{this.changeCurrentPageHandler(1)}))},handleClick(e,t){}}},_=y,S=(0,c.Z)(_,v,w,!1,null,"6d4c10d8",null),k=S.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticStyle:{"font-family":"楷体"},attrs:{align:"center"}},[e._v("系统视图")]),a("div",{staticStyle:{width:"600px",height:"400px",float:"left",left:"10%","margin-top":"10%"},attrs:{id:"statisticalOne"}}),a("div",{staticStyle:{width:"600px",height:"400px",float:"left",left:"10%","margin-top":"10%"},attrs:{id:"statisticalTwo"}})])}],P={name:"SystemIndex",data(){return{allStatisticalData:[],currentStatisticalData:[]}},created(){window.document.title="系统首页"},beforeMount(){},beforeCreate(){},async mounted(){await this.requestAllStatisticalData(),null!=localStorage.getItem("token")&&(await this.requestCurrentStatisticalData(),this.statisticalTwo()),this.statisticalOne()},methods:{async requestAllStatisticalData(){await this.httpRequest.get("/allStatistical/allStatisticalData?currentUser="+!1).then((e=>{null!=e&&(this.allStatisticalData=e.data.statisticalAllDataList)}))},async requestCurrentStatisticalData(){await this.httpRequest.get("/allStatistical/allStatisticalData?currentUser="+!0).then((e=>{null!=e&&(this.currentStatisticalData=e.data.statisticalAllDataList)}))},statisticalOne(){var e=this.$echarts.init(document.getElementById("statisticalOne")),t={title:{text:"整站用户数据",subtext:"统计",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"所有",type:"pie",radius:"60%",data:this.allStatisticalData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(t)},statisticalTwo(){var e=this.$echarts.init(document.getElementById("statisticalTwo")),t={title:{text:"当前用户数据",subtext:"统计",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right"},series:[{name:"我的",type:"pie",radius:"60%",data:this.currentStatisticalData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(t)}}},L=P,F=(0,c.Z)(L,C,x,!1,null,"739f4189",null),z=F.exports,$=a(64720),D=a.n($),N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":"注册中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-form",{ref:"form",staticClass:"loginFormTable",attrs:{rules:e.rules,model:e.registerForm}},[a("h3",{staticClass:"loginTitle"},[e._v("用户注册")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{staticStyle:{width:"230px"},attrs:{type:"email","auto-complete":"false",placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}}),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",disabled:e.disable},on:{click:e.toEmailCode}},[e._v(e._s(e.buttonName))])],1),a("el-form-item",{attrs:{prop:"emailCode"}},[a("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入验证码"},model:{value:e.registerForm.emailCode,callback:function(t){e.$set(e.registerForm,"emailCode",t)},expression:"registerForm.emailCode"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.registerForm.sex,callback:function(t){e.$set(e.registerForm,"sex",t)},expression:"registerForm.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.registerHandler}},[e._v("注册")]),a("hr"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.toLogin}},[e._v("去登录")])],1)],1)},q=[],R={name:"Register",data(){return{buttonName:"获取验证码",disable:!1,count:60,loading:!1,registerForm:{username:"",password:"",sex:"",email:"",emailCode:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],sex:[{required:!0,message:"性别不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"}],emailCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},created(){window.document.title="用户注册"},methods:{toEmailCode(){var e=setInterval((()=>{this.count<1?(this.disable=!1,this.buttonName="获取验证码",this.count=60,clearInterval(e)):(this.disable=!0,this.buttonName=this.count--+"s后重发")}),1e3);this.httpRequest("/user/email?email="+this.registerForm.email)},registerHandler(){this.$refs.form.validate((e=>{e?(this.loading=!0,this.httpRequest.post("/user/register",this.registerForm).then((e=>{this.loading=!1,e.data.code>2e4&&this.$router.replace("/register"),this.$router.replace("/")})).catch((e=>{this.$router.replace("/register")}))):this.$router.replace("/register")}))},toLogin(){this.$router.replace("/")}}},H=R,T=(0,c.Z)(H,N,q,!1,null,"2684c896",null),E=T.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":"修改中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-form",{ref:"form",staticClass:"loginFormTable",attrs:{rules:e.rules,model:e.resetForm}},[a("h3",{staticClass:"loginTitle"},[e._v("找回密码")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.resetForm.username,callback:function(t){e.$set(e.resetForm,"username",t)},expression:"resetForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入新的密码"},model:{value:e.resetForm.password,callback:function(t){e.$set(e.resetForm,"password",t)},expression:"resetForm.password"}})],1),a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{staticStyle:{width:"230px"},attrs:{type:"email","auto-complete":"false",placeholder:"请输入邮箱"},model:{value:e.resetForm.email,callback:function(t){e.$set(e.resetForm,"email",t)},expression:"resetForm.email"}}),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",disabled:e.disable},on:{click:e.toEmailCode}},[e._v(e._s(e.buttonName))])],1),a("el-form-item",{attrs:{prop:"emailCode"}},[a("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入验证码"},model:{value:e.resetForm.emailCode,callback:function(t){e.$set(e.resetForm,"emailCode",t)},expression:"resetForm.emailCode"}})],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.toAlter}},[e._v("修改密码")]),a("hr"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.toLogin}},[e._v("去登录")])],1)],1)},I=[],V={name:"Reset",data(){return{buttonName:"获取验证码",disable:!1,count:60,loading:!1,resetForm:{username:"",password:"",emailCode:"",email:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,message:"邮箱必填",trigger:"blur"}],emailCode:[{required:!0,message:"验证码必填",trigger:"blur"}]}}},created(){window.document.title="修改密码"},methods:{toLogin(){this.$router.replace("/")},toEmailCode(){var e=setInterval((()=>{this.count<1?(this.disable=!1,this.buttonName="获取验证码",this.count=60,clearInterval(e)):(this.disable=!0,this.buttonName=this.count--+"s后重发")}),1e3);this.httpRequest("/user/email?email="+this.resetForm.email)},toAlter(){this.$refs.form.validate((e=>{e?(this.loading=!0,this.httpRequest.post("/user/alterPwd",this.resetForm).then((e=>{this.loading=!1,e.data.code>2e4&&this.$router.replace("/reset"),this.$router.replace("/")})).catch((e=>{this.$router.replace("/reset")}))):this.$router.replace("/reset")}))}}},M=V,U=(0,c.Z)(M,A,I,!1,null,"7b27b776",null),O=U.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_list"},[a("el-button",{staticClass:"addRole",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:e.showRoleAddForm}}),a("el-dialog",{attrs:{title:"添加角色",visible:e.roleAddVisible,width:"30%","before-close":e.addHandleClose}},[a("span",[a("el-form",{ref:"addForm",attrs:{model:e.roleForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"角色名",prop:"roleName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.roleAddVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addRole}},[e._v("添加")])],1)]),a("el-button",{staticClass:"queryButton",attrs:{type:"success"},on:{click:e.queryByName}},[e._v("角色查询")]),a("el-input",{staticClass:"queryUser",attrs:{placeholder:"请输入角色名"},model:{value:e.rolename,callback:function(t){e.rolename=t},expression:"rolename"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleList,height:"700"}},[a("el-table-column",{attrs:{label:"角色编号",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"角色名称",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.roleName))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"角色修改",visible:e.roleEditVisible,width:"30%","before-close":e.editHandleClose}},[a("span",[a("el-form",{ref:"editForm",attrs:{model:e.roleForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"角色id",prop:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.roleForm.id,callback:function(t){e.$set(e.roleForm,"id",t)},expression:"roleForm.id"}})],1),a("el-form-item",{attrs:{label:"角色名",prop:"roleName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.roleEditVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editRole}},[e._v("修改")])],1)]),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},B=[],K={name:"RoleList",data(){return{roleList:[],roleAddVisible:!1,roleEditVisible:!1,rolename:"",roleForm:{id:"",roleName:""},rules:{roleName:[{required:!0,message:"请输入角色",trigger:"blur"}]},pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="角色管理",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{changeCurrentPageHandler(e){this.httpRequest.get("role/rolePage?page="+e+"&limit="+this.pagination.pageSize+"&rolename="+this.rolename+"&orderFiled=id&orderType=1").then((e=>{this.pagination.currentPage=e.data.roleList.currentPage,this.pagination.pageSize=e.data.roleList.pageSize,this.pagination.total=e.data.roleList.totalSize,this.pagination.totalPage=e.data.roleList.totalPage,this.roleList=e.data.roleList.resultList}))},queryByName(){this.changeCurrentPageHandler(1)},addHandleClose(){this.roleAddVisible=!1},showRoleAddForm(){this.roleForm={},this.roleAddVisible=!0},addRole(){this.$refs.addForm.validate((e=>{e?this.httpRequest.post("role/addRole",this.roleForm).then((e=>{this.changeCurrentPageHandler(1),this.roleForm={},this.roleAddVisible=!1})):message.error("请完善数据")}))},handleEdit(e,t){this.roleForm=t,this.roleEditVisible=!0},editHandleClose(){this.roleEditVisible=!1},editRole(){this.$refs.editForm.validate((e=>{e?this.httpRequest.post("role/editRole",this.roleForm).then((e=>{this.changeCurrentPageHandler(1),this.roleForm={},this.roleEditVisible=!1})):message.error("请完善数据")}))},handleDelete(e,t){this.httpRequest.post("role/deleteRole",{id:t.id}).then((e=>{this.changeCurrentPageHandler(1)}))}}},j=K,J=(0,c.Z)(j,Z,B,!1,null,"200b73ac",null),W=J.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_list"},[a("el-button",{staticClass:"addRole",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:e.showRoleAddForm}}),a("el-dialog",{attrs:{title:"添加权限",visible:e.permissionAddVisible,width:"30%","before-close":e.addHandleClose}},[a("span",[a("el-form",{ref:"addForm",attrs:{model:e.permissionForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"权限名",prop:"permissionName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.permissionForm.permissionName,callback:function(t){e.$set(e.permissionForm,"permissionName",t)},expression:"permissionForm.permissionName"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.permissionAddVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addPermission}},[e._v("添加")])],1)]),a("el-button",{staticClass:"queryButton",attrs:{type:"success"},on:{click:e.queryByName}},[e._v("权限查询")]),a("el-input",{staticClass:"queryUser",attrs:{placeholder:"请输入权限名"},model:{value:e.permissionname,callback:function(t){e.permissionname=t},expression:"permissionname"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.permissionList,height:"700"}},[a("el-table-column",{attrs:{label:"权限编号",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"权限名称",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.permissionName))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"权限修改",visible:e.permissionEditVisible,width:"30%","before-close":e.editHandleClose}},[a("span",[a("el-form",{ref:"editForm",attrs:{model:e.permissionForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"权限id",prop:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.permissionForm.id,callback:function(t){e.$set(e.permissionForm,"id",t)},expression:"permissionForm.id"}})],1),a("el-form-item",{attrs:{label:"权限名",prop:"roleName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.permissionForm.permissionName,callback:function(t){e.$set(e.permissionForm,"permissionName",t)},expression:"permissionForm.permissionName"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.permissionEditVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editRole}},[e._v("修改")])],1)]),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},X=[],Q={name:"PermissionList",data(){return{permissionList:[],permissionAddVisible:!1,permissionEditVisible:!1,permissionname:"",permissionForm:{id:"",permissionName:""},rules:{permissionName:[{required:!0,message:"请输入权限名",trigger:"blur"}]},pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="权限管理",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{changeCurrentPageHandler(e){this.httpRequest.get("permission/permissionPage?page="+e+"&limit="+this.pagination.pageSize+"&permissionname="+this.permissionname+"&orderFiled=id&orderType=1").then((e=>{this.pagination.currentPage=e.data.permissionList.currentPage,this.pagination.pageSize=e.data.permissionList.pageSize,this.pagination.total=e.data.permissionList.totalSize,this.pagination.totalPage=e.data.permissionList.totalPage,this.permissionList=e.data.permissionList.resultList}))},queryByName(){this.changeCurrentPageHandler(1)},addHandleClose(){this.permissionAddVisible=!1},showRoleAddForm(){this.permissionForm={},this.permissionAddVisible=!0},addPermission(){this.$refs.addForm.validate((e=>{e?this.httpRequest.post("permission/addPermission",this.permissionForm).then((e=>{this.changeCurrentPageHandler(1),this.permissionForm={},this.permissionAddVisible=!1})):message.error("请完善数据")}))},handleEdit(e,t){this.permissionForm=t,this.permissionEditVisible=!0},editHandleClose(){this.permissionEditVisible=!1},editRole(){this.$refs.editForm.validate((e=>{e?this.httpRequest.post("permission/editPermission",this.permissionForm).then((e=>{this.changeCurrentPageHandler(1),this.permissionForm={},this.permissionEditVisible=!1})):message.error("请完善数据")}))},handleDelete(e,t){this.httpRequest.post("permission/deletePermission",{id:t.id}).then((e=>{this.changeCurrentPageHandler(1)}))}}},Y=Q,ee=(0,c.Z)(Y,G,X,!1,null,"21ca38f4",null),te=ee.exports,ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"aaa"},[e._v("404")])])}],se={name:"404",data(){return{}},mounted(){},created(){window.document.title="404"},methods:{}},re=se,le=(0,c.Z)(re,ae,ie,!1,null,"dade0a1c",null),ne=le.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file_list"},[a("el-button",{staticClass:"uploadFiles",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:e.showFileAddForm}}),a("el-dialog",{attrs:{title:"文件上传",visible:e.uploadFilesVisible,width:"30%","before-close":e.addHandleClose}},[a("span",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"单个上传",name:"first"}},[a("el-upload",{ref:"uploadSingle",staticClass:"upload-demo",attrs:{headers:e.header,name:"file",limit:1,align:"center",action:e.singleUploadUrl,"on-success":e.uploadSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-tab-pane",{attrs:{label:"批量上传",name:"second"}},[a("el-upload",{ref:"uploadMulti",staticClass:"upload-demo",attrs:{drag:"",align:"center",limit:10,action:e.multiUploadUrl,name:"files",headers:e.header,"on-success":e.uploadSuccess,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])])])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.addHandleClose}},[e._v("取 消")])],1)]),a("el-button",{staticClass:"queryButton",attrs:{type:"success"},on:{click:e.queryFile}},[e._v("文件查询")]),a("el-input",{staticClass:"queryFile",attrs:{placeholder:"请输入关键字"},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"700"}},[a("el-table-column",{attrs:{label:"文件编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"网络地址",width:"700",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.file))])],1)]}}])}),a("el-table-column",{attrs:{label:"上传时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.uploadTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileName))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件类型",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileType))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.file,expression:"scope.row.file",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{size:"mini"}},[e._v(" 复制 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showFile(t.$index,t.row)}}},[e._v(" 查看 ")]),a("el-button",{attrs:{size:"mini",type:"danger",loading:e.deleteLoading},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},ce=[],de={name:"FileList",data(){return{deleteLoading:!1,header:{token:localStorage.getItem("token")},multiUploadUrl:"http://nobibibi.top:8888/somg/web-file-generate/multi",singleUploadUrl:"http://nobibibi.top:8888/somg/web-file-generate/single",activeName:"first",fileList:[],uploadFilesVisible:!1,pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},key:""}},created(){window.document.title="文件列表",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{queryFile(){this.changeCurrentPageHandler(1)},changeCurrentPageHandler(e){this.httpRequest.get("storage/allFilePage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&key="+this.key+"&orderType=1").then((e=>{this.pagination.currentPage=e.data.fileList.currentPage,this.pagination.pageSize=e.data.fileList.pageSize,this.pagination.total=e.data.fileList.totalSize,this.pagination.totalPage=e.data.fileList.totalPage,this.fileList=e.data.fileList.resultList}))},addHandleClose(){this.$refs.uploadMulti.clearFiles(),this.$refs.uploadSingle.clearFiles(),this.uploadFilesVisible=!1,this.changeCurrentPageHandler(1)},showFileAddForm(){this.uploadFilesVisible=!0},handleDelete(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/deleteFile",{id:t.id,file:t.file}).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1},onCopy(){this.$message.success("Copy Success")},showFile(e,t){location.href=t.file},uploadSuccess(e){e.code>=1e4&&e.code<2e4?this.$message.success(e.msg):this.$message.error(e.msg)}}},ue=de,pe=(0,c.Z)(ue,oe,ce,!1,null,"2f3081ce",null),me=pe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"700"}},[a("el-table-column",{attrs:{label:"文件编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"预览",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"video"},[a("el-dialog",{staticStyle:{height:"100%"},attrs:{title:"预览详情",width:"50%","append-to-body":"",top:"10px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closeDialog}},[a("img",{attrs:{width:"100%",src:e.showImgUrl}})]),a("img",{attrs:{src:t.row.file,width:"100%"}}),a("i",{staticClass:"el-icon-picture-outline-round",on:{click:function(a){return e.handleCheck(t.row.file)}}})],1)]}}])}),a("el-table-column",{attrs:{label:"网络地址",width:"700",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.file))])],1)]}}])}),a("el-table-column",{attrs:{label:"上传时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.uploadTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileName))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件类型",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileType))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.file,expression:"scope.row.file",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{size:"mini"}},[e._v(" 复制 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showFile(t.$index,t.row)}}},[e._v(" 查看 ")]),a("el-button",{attrs:{size:"mini",type:"danger",loading:e.deleteLoading},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},he=[],fe={name:"ImageList",data(){return{showImgUrl:"",dialogVisible:!1,fileList:[],deleteLoading:!1,pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="图片文件列表",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{handleCheck(e){this.showImgUrl=e,this.dialogVisible=!0},closeDialog(){this.showImgUrl="",this.dialogVisible=!1},changeCurrentPageHandler(e){this.httpRequest.get("storage/allImagePage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&orderType=1").then((e=>{this.pagination.currentPage=e.data.imageList.currentPage,this.pagination.pageSize=e.data.imageList.pageSize,this.pagination.total=e.data.imageList.totalSize,this.pagination.totalPage=e.data.imageList.totalPage,this.fileList=e.data.imageList.resultList}))},handleDelete(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/deleteFile",{id:t.id,file:t.file}).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1},onCopy(){this.$message.success("Copy Success")},showFile(e,t){location.href=t.file}}},be=fe,ve=(0,c.Z)(be,ge,he,!1,null,"0b36e7a2",null),we=ve.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"700"}},[a("el-table-column",{attrs:{label:"文件编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"预览",width:"400",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("audio",{ref:"audio",staticStyle:{width:"300px",height:"30px"},attrs:{id:t.row.id,controls:"",src:t.row.file},on:{play:function(a){return e.onPlay(t.row.id)}}})]}}])}),a("el-table-column",{attrs:{label:"上传时间",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.uploadTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileName))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件类型",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileType))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.file,expression:"scope.row.file",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{size:"mini"}},[e._v(" 复制 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showFile(t.$index,t.row)}}},[e._v(" 查看 ")]),a("el-button",{attrs:{size:"mini",type:"danger",loading:e.deleteLoading},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},_e=[],Se={name:"AudioList",data(){return{deleteLoading:!1,fileList:[],pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},currentAudioId:null}},created(){window.document.title="音频文件列表",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{onPlay(e){if(this.currentAudioId&&this.currentAudioId!==e){let e=document.getElementById(this.currentAudioId);e.paused||e.pause()}this.currentAudioId=e},changeCurrentPageHandler(e){this.httpRequest.get("storage/allAudioPage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&orderType=1").then((e=>{this.pagination.currentPage=e.data.audioList.currentPage,this.pagination.pageSize=e.data.audioList.pageSize,this.pagination.total=e.data.audioList.totalSize,this.pagination.totalPage=e.data.audioList.totalPage,this.fileList=e.data.audioList.resultList}))},handleDelete(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/deleteFile",{id:t.id,file:t.file}).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1},onCopy(){this.$message.success("Copy Success")},showFile(e,t){location.href=t.file}}},ke=Se,Ce=(0,c.Z)(ke,ye,_e,!1,null,"6c38170e",null),xe=Ce.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"700"}},[a("el-table-column",{attrs:{label:"文件编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"预览",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"video"},[a("el-dialog",{staticStyle:{height:"100%"},attrs:{title:"预览详情",width:"50%","append-to-body":"",top:"10px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closeDialog}},[a("video",{attrs:{width:"100%",src:e.playvideo,poster:e.playvideo,controls:"controls",id:"video",preload:""}})]),a("video",{attrs:{src:t.row.file,width:"100%",preload:""}}),a("i",{staticClass:"el-icon-video-play playIcon",on:{click:function(a){return e.handleCheck(t.row.file)}}})],1)]}}])}),a("el-table-column",{attrs:{label:"网络地址",width:"700",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.file))])],1)]}}])}),a("el-table-column",{attrs:{label:"上传时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.uploadTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileName))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件类型",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileType))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.file,expression:"scope.row.file",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{size:"mini"}},[e._v(" 复制 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showFile(t.$index,t.row)}}},[e._v(" 查看 ")]),a("el-button",{attrs:{size:"mini",type:"danger",loading:e.deleteLoading},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},Le=[],Fe={name:"VideoList",data(){return{dialogVisible:!1,playvideo:null,playvideoName:null,deleteLoading:!1,fileList:[],pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="视频文件列表",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{handleCheck(e){this.playvideo=e,this.playvideoName=e,this.dialogVisible=!0},closeDialog(){this.playvideo="",this.playvideoName="",this.dialogVisible=!1},changeCurrentPageHandler(e){this.httpRequest.get("storage/allVideoPage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&orderType=1").then((e=>{this.pagination.currentPage=e.data.videoList.currentPage,this.pagination.pageSize=e.data.videoList.pageSize,this.pagination.total=e.data.videoList.totalSize,this.pagination.totalPage=e.data.videoList.totalPage,this.fileList=e.data.videoList.resultList}))},handleDelete(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/deleteFile",{id:t.id,file:t.file}).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1},onCopy(){this.$message.success("Copy Success")},showFile(e,t){location.href=t.file}}},ze=Fe,$e=(0,c.Z)(ze,Pe,Le,!1,null,"7201ce50",null),De=$e.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticClass:"addMenuAuth",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:e.showMenuAuthAddForm}}),a("el-dialog",{attrs:{title:"添加菜单",visible:e.menuAuthAddVisible,width:"30%","before-close":e.addHandleClose}},[a("span",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"添加根菜单",name:"first"}},[a("el-form",{ref:"addForm",attrs:{model:e.Menu,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"菜单名字",prop:"pmenuName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.Menu.pmenuName,callback:function(t){e.$set(e.Menu,"pmenuName",t)},expression:"Menu.pmenuName"}})],1),a("el-form-item",{attrs:{label:"菜单路径",prop:"pmenuPath"}},[a("el-input",{attrs:{type:"text"},model:{value:e.Menu.pmenuPath,callback:function(t){e.$set(e.Menu,"pmenuPath",t)},expression:"Menu.pmenuPath"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"添加子菜单",name:"second"}},[a("el-form",{ref:"addForm",attrs:{model:e.Menu,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"菜单名字",prop:"menuName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.Menu.menuName,callback:function(t){e.$set(e.Menu,"menuName",t)},expression:"Menu.menuName"}})],1),a("el-form-item",{attrs:{label:"菜单路径",prop:"menuPath"}},[a("el-input",{attrs:{type:"text"},model:{value:e.Menu.menuPath,callback:function(t){e.$set(e.Menu,"menuPath",t)},expression:"Menu.menuPath"}})],1),a("el-form-item",{attrs:{label:"所属父级",prop:"parenIndex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.Menu.parentIndex,callback:function(t){e.$set(e.Menu,"parentIndex",t)},expression:"Menu.parentIndex"}},e._l(e.allParentMenus,(function(e){return a("el-option",{key:e.menuIndex,attrs:{label:e.menuName,value:e.menuIndex,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.addHandleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addMenu}},[e._v("添加")])],1)]),a("el-select",{staticClass:"menuSelector",attrs:{placeholder:"请选择菜单类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.menuType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.desc,value:t.value,disabled:t.disabled},nativeOn:{click:function(t){return e.changeCurrentPageHandler(1)}}})})),1),e.isSon?a("el-select",{staticClass:"menuSelector",attrs:{placeholder:"请选择根菜单"},model:{value:e.parentIndex,callback:function(t){e.parentIndex=t},expression:"parentIndex"}},e._l(e.allParentMenus,(function(t){return a("el-option",{key:t.menuIndex,attrs:{label:t.menuName,value:t.menuIndex,disabled:t.disabled},nativeOn:{click:function(t){return e.changeCurrentPageHandler(1)}}})})),1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.menuList,height:"700"}},[a("el-table-column",{attrs:{label:"菜单编号",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"菜单名称",width:"350",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.menuName))])],1)]}}])}),a("el-table-column",{attrs:{label:"菜单路径",width:"350",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.menuPath))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"菜单编辑",visible:e.menuEditVisible,width:"30%","before-close":e.editHandleClose}},[a("span",[a("el-form",{ref:"editForm",attrs:{model:e.currentMenu,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"菜单id",prop:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.currentMenu.id,callback:function(t){e.$set(e.currentMenu,"id",t)},expression:"currentMenu.id"}})],1),a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentMenu.menuName,callback:function(t){e.$set(e.currentMenu,"menuName",t)},expression:"currentMenu.menuName"}})],1),a("el-form-item",{attrs:{label:"菜单路径",prop:"menuPath"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentMenu.menuPath,callback:function(t){e.$set(e.currentMenu,"menuPath",t)},expression:"currentMenu.menuPath"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.menuEditVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editMenu}},[e._v("修改")])],1)]),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},qe=[],Re={name:"MenuList",data(){return{menuType:[{desc:"根菜单",value:"0"},{desc:"子菜单",value:"1"}],type:"",isSon:!1,parentIndex:"",menuList:[],allParentMenus:[],Menu:{},activeName:"first",menuAuthAddVisible:!1,parentMenuList:[],checkedParentMenu:"",pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},currentMenu:{},menuEditVisible:!1}},mounted(){},created(){window.document.title="菜单管理",this.type="0",this.changeCurrentPageHandler(1)},methods:{handleDelete(e,t){this.httpRequest.post("menu/deleteMenu",{id:t.id}).then((e=>{this.changeCurrentPageHandler(1)}))},editHandleClose(){this.menuEditVisible=!1},handleEdit(e,t){console.log(t),this.currentMenu=t,this.menuEditVisible=!0},editMenu(){this.httpRequest.post("menu/editMenu",this.currentMenu).then((e=>{this.changeCurrentPageHandler(1),this.currentMenu={},this.menuEditVisible=!1}))},changeCurrentPageHandler(e){1==this.type&&0==this.isSon&&(this.menuList=[],this.isSon=!0,this.getAllParentMenus()),0==this.type&&1==this.isSon&&(this.parentIndex="",this.isSon=!1),(0==this.type||""!=this.parentIndex&&1==this.type)&&this.httpRequest.get("menu/menusPage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&orderType=1&type="+this.type+"&parentIndex="+this.parentIndex).then((e=>{this.pagination.currentPage=e.data.menuList.currentPage,this.pagination.pageSize=e.data.menuList.pageSize,this.pagination.total=e.data.menuList.totalSize,this.pagination.totalPage=e.data.menuList.totalPage,this.menuList=e.data.menuList.resultList}))},addMenu(){let e={pmenuName:this.Menu.pmenuName,pmenuPath:this.Menu.pmenuPath,menuName:this.Menu.menuName,menuPath:this.Menu.menuPath,parentIndex:this.Menu.parentIndex};this.httpRequest.post("menu/addMenu",e).then((e=>{this.menuAuthAddVisible=!1,this.Menu={},this.changeCurrentPageHandler(1)}))},getAllParentMenus(){this.httpRequest.get("menu/allParentMenus").then((e=>{this.allParentMenus=e.data.allParentMenus}))},showMenuAuthAddForm(){this.getAllParentMenus(),this.menuAuthAddVisible=!0},addHandleClose(){this.menuAuthAddVisible=!1,this.changeCurrentPageHandler(1)},handleClick(e,t){console.log(e,t)}}},He=Re,Te=(0,c.Z)(He,Ne,qe,!1,null,"24908d2a",null),Ee=Te.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file_list"},[a("el-button",{staticClass:"queryButton",attrs:{type:"success"},on:{click:e.queryFile}},[e._v("资源查询")]),a("el-input",{staticClass:"queryFile",attrs:{placeholder:"请输入关键字"},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"700"}},[a("el-table-column",{attrs:{label:"文件编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"所属用户 ",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.userName))])],1)]}}])}),a("el-table-column",{attrs:{label:"网络地址",width:"700",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.file))])],1)]}}])}),a("el-table-column",{attrs:{label:"上传时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.uploadTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileName))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件类型",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileType))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.file,expression:"scope.row.file",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{size:"mini"}},[e._v(" 复制 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showFile(t.$index,t.row)}}},[e._v(" 查看 ")]),a("el-button",{attrs:{size:"mini",type:"danger",loading:e.deleteLoading},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},Ie=[],Ve={name:"Resource",data(){return{fileList:[],key:"",deleteLoading:!1,pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="整站资源",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{changeCurrentPageHandler(e){this.httpRequest.get("storage/superAdminAllFilePage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&key="+this.key+"&orderType=1").then((e=>{this.pagination.currentPage=e.data.allFileList.currentPage,this.pagination.pageSize=e.data.allFileList.pageSize,this.pagination.total=e.data.allFileList.totalSize,this.pagination.totalPage=e.data.allFileList.totalPage,this.fileList=e.data.allFileList.resultList}))},queryFile(){this.changeCurrentPageHandler(1)},handleDelete(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/deleteFile",{id:t.id,file:t.file}).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1},onCopy(){this.$message.success("Copy Success")},showFile(e,t){location.href=t.file}}},Me=Ve,Ue=(0,c.Z)(Me,Ae,Ie,!1,null,"8f6f4138",null),Oe=Ue.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"log_list"},[a("el-button",{staticClass:"queryButton",attrs:{type:"success"},on:{click:e.queryLog}},[e._v("日志查询")]),a("el-input",{staticClass:"queryLog",attrs:{placeholder:"请输入关键字"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.logList,height:"700"}},[a("el-table-column",{attrs:{label:"日志编号",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"用户id ",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.userId))])],1)]}}])}),a("el-table-column",{attrs:{label:"用户名",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.userName))])],1)]}}])}),a("el-table-column",{attrs:{label:"时间",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.time))])],1)]}}])}),a("el-table-column",{attrs:{label:"服务",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.serverName))])],1)]}}])}),a("el-table-column",{attrs:{label:"行为",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.action))])],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},Be=[],Ke={name:"SysLogList",data(){return{logList:[],keyword:"",pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},mounted(){},created(){window.document.title="系统日志",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{changeCurrentPageHandler(e){this.httpRequest.get("sysLog/logPage?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&keyword="+this.keyword+"&orderType=1").then((e=>{this.pagination.currentPage=e.data.logList.currentPage,this.pagination.pageSize=e.data.logList.pageSize,this.pagination.total=e.data.logList.totalSize,this.pagination.totalPage=e.data.logList.totalPage,this.logList=e.data.logList.resultList}))},queryLog(){this.changeCurrentPageHandler(1)}}},je=Ke,Je=(0,c.Z)(je,Ze,Be,!1,null,"8ddeccda",null),We=Je.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"background-color":"#F0DAD2",width:"90%",height:"75vh",margin:"0 auto",overflow:"auto","word-wrap":"break-word","word-break":"break-all","border-radius":"5px"}},e._l(e.sessionList,(function(t){return a("ul",{key:t.request},[a("li",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.request,expression:"sessson.request",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticStyle:{"font-family":"楷体","list-style-type":"none","margin-bottom":"5px","border-radius":"2px","margin-top":"5px",width:"95%","background-color":"#B45B3E"}},[e._v(e._s(t.request))]),a("li",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.response,expression:"sessson.response",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticStyle:{"font-family":"楷体","list-style-type":"none","border-radius":"2px","margin-top":"5px",width:"95%","background-color":"#00B271"}},[a("vue-markdown",[e._v(e._s(t.response))])],1)])})),0),a("div",{staticStyle:{width:"90%",height:"10vh",margin:"20px auto","word-wrap":"break-word","word-break":"break-all"}},[a("el-input",{attrs:{placeholder:"请输入问题",clearable:""},on:{clear:e.clearRequestText},model:{value:e.requestText,callback:function(t){e.requestText=t},expression:"requestText"}},[a("el-button",{attrs:{slot:"append",loading:e.isResponse,icon:"el-icon-search"},on:{click:e.onRequest},slot:"append"},[e._v("提问")])],1)],1)])},Xe=[],Qe=a(89296),Ye=a.n(Qe),et={name:"TextRequest",components:{VueMarkdown:Ye()},data(){return{requestText:null,isResponse:!1,sessionList:[]}},mounted(){},created(){window.document.title="文字问答"},methods:{onCopy(){this.$message.success("Copy Success")},onRequest(){null==this.requestText?this.$message.info("请输入问题"):(this.isResponse=!0,this.chart.post("/chat/session",{request:this.requestText}).then((e=>{this.sessionList.push({request:this.requestText,response:e.data.responseText}),this.requestText="",this.isResponse=!1})))},clearRequestText(){this.requestText=null}}},tt=et,at=(0,c.Z)(tt,Ge,Xe,!1,null,"b0de7974",null),it=at.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":"生成中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-form",{ref:"form",staticClass:"scaleFormTable",attrs:{rules:e.rules,model:e.scaleData}},[a("h3",{staticClass:"scaleTitle"},[e._v("图片缩放")]),a("el-form-item",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"image",headers:e.header,action:"http://nobibibi.top:8888/image/image",limit:1,accept:"image/*","auto-upload":!0,"on-success":e.uploadSuccess}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1),a("el-form-item",{attrs:{prop:"scale"}},[a("el-input",{attrs:{type:"number",placeholder:"大于1放大 小于1缩小"},model:{value:e.scaleData.scale,callback:function(t){e.$set(e.scaleData,"scale",t)},expression:"scaleData.scale"}})],1),a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"http://nobibibi.top:8888/image/scale?imagePath="+e.scaleData.imagePath+"&scale="+e.scaleData.scale+"&contentType="+e.scaleData.contentType}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[e._v(" 生成 ")])],1),a("hr"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.reset}},[e._v("重新选择")]),a("hr")],1)],1)},rt=[],lt={name:"Scale",data(){return{header:{token:localStorage.getItem("token")},loading:!1,scaleData:{scale:null,contentType:null,imagePath:null},rules:{scale:[{required:!0,message:"请输入缩放参数",trigger:"blur"}]}}},mounted(){},created(){window.document.title="图片缩放"},methods:{reset(){this.scaleData={},this.$refs.upload.fileList=[]},uploadSuccess(e){e.code>=1e4&&e.code<2e4?(this.scaleData.contentType=e.image.contentType,this.scaleData.imagePath=e.image.imagePath,console.log(this.scaleData),this.$message.success(e.msg)):this.$message.error(e.msg)}}},nt=lt,ot=(0,c.Z)(nt,st,rt,!1,null,"4fcd9867",null),ct=ot.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newsList,height:"800"}},[a("el-table-column",{attrs:{label:"新闻标题",width:"800",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.row.link,target:"_blank"}},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.title))])],1)])]}}])}),a("el-table-column",{attrs:{label:"要闻时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.row.link,target:"_blank"}},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.time))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.toShowNews(t.$index,t.row)}}},[e._v("去看新闻 ")])]}}])})],1)],1)},ut=[],pt={name:"CnPeopleNews",data(){return{newsList:[]}},mounted(){},created(){window.document.title="人民网滚动要闻",this.requestNewsList()},methods:{requestNewsList(){this.chart.get("/news/cnPeopleNews").then((e=>{this.newsList=e.data.result_list}))},toShowNews(e,t){location.href=t.link}}},mt=pt,gt=(0,c.Z)(mt,dt,ut,!1,null,"536f71f6",null),ht=gt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newsList,height:"800"}},[a("el-table-column",{attrs:{label:"新闻标题",width:"1000",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.row.link,target:"_blank"}},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.title))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.toShowNews(t.$index,t.row)}}},[e._v("去看新闻 ")])]}}])})],1)],1)},bt=[],vt={name:"CnTouTiaoNews",data(){return{newsList:[]}},mounted(){},created(){window.document.title="头条热点要闻",this.requestNewsList()},methods:{requestNewsList(){this.chart.get("/news/cnTouTiaoNews").then((e=>{this.newsList=e.data.result_list}))},toShowNews(e,t){location.href=t.link}}},wt=vt,yt=(0,c.Z)(wt,ft,bt,!1,null,"f13f4dec",null),_t=yt.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newsList,height:"800"}},[a("el-table-column",{attrs:{label:"新闻标题",width:"1000",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.row.link,target:"_blank"}},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.title))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.toShowNews(t.$index,t.row)}}},[e._v("去看新闻 ")])]}}])})],1)],1)},kt=[],Ct={name:"CnJingJiItNews",data(){return{newsList:[]}},mounted(){},created(){window.document.title="中国经济网IT要闻",this.requestNewsList()},methods:{requestNewsList(){this.chart.get("/news/cnJingJiItNews").then((e=>{this.newsList=e.data.result_list}))},toShowNews(e,t){location.href=t.link}}},xt=Ct,Pt=(0,c.Z)(xt,St,kt,!1,null,"7ac04626",null),Lt=Pt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newsList,height:"800"}},[a("el-table-column",{attrs:{label:"新闻标题",width:"1000",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.row.link,target:"_blank"}},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.title))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.toShowNews(t.$index,t.row)}}},[e._v("去看新闻 ")])]}}])})],1)],1)},zt=[],$t={name:"CnWeiBoHotSearch",data(){return{newsList:[]}},mounted(){},created(){window.document.title="微博热搜榜",this.requestNewsList()},methods:{requestNewsList(){this.chart.get("/news/cnWeiBoHotSearch").then((e=>{this.newsList=e.data.result_list}))},toShowNews(e,t){location.href=t.link}}},Dt=$t,Nt=(0,c.Z)(Dt,Ft,zt,!1,null,"484a480b",null),qt=Nt.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("center",[a("div",{staticStyle:{height:"5vh",width:"40%"}},[a("el-input",{attrs:{placeholder:"请输入影视名",clearable:""},on:{clear:e.clearListAndKey},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("el-button",{attrs:{slot:"append",loading:e.isResponse,icon:"el-icon-search"},on:{click:e.getTvList},slot:"append"},[e._v("搜索")])],1)],1)]),a("div",{staticStyle:{width:"100%",height:"80vh",margin:"0 auto",overflow:"auto","word-wrap":"break-word","word-break":"break-all"}},e._l(e.tvList,(function(t,i){return a("div",{key:i,staticStyle:{"background-color":"#F0DAD2",margin:"20px 20px auto",width:"180px",height:"300px",float:"left",overflow:"auto","word-wrap":"break-word","word-break":"break-all","border-radius":"10px"}},[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.play_link,target:"_blank"}},[a("img",{staticStyle:{width:"100%",height:"80%"},attrs:{src:t.img_link}})]),a("center",[a("strong",[e._v(e._s(t.title))])])],1)})),0)],1)},Ht=[],Tt={name:"TvSearch",data(){return{searchKey:null,isResponse:!1,tvList:[]}},mounted(){},created(){window.document.title="影视搜索"},methods:{getTvList(){this.tvList=[],null==this.searchKey?this.$message.info("请输入关键字"):(this.isResponse=!0,this.chart.get("/play/searchMovies?searchKey="+this.searchKey).then((e=>{this.tvList=e.data.result_list,this.isResponse=!1})))},clearListAndKey(){this.tvList=[],this.searchKey=null,this.isResponse=!1}}},Et=Tt,At=(0,c.Z)(Et,Rt,Ht,!1,null,"75483b80",null),It=At.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticClass:"addSysDict",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:e.showSysDictAddForm}}),a("el-dialog",{attrs:{title:"添加字典",visible:e.sysDictAddVisible,width:"30%","before-close":e.addHandleClose}},[a("span",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"添加根字典",name:"first"}},[a("el-form",{ref:"addForm",attrs:{model:e.SysDic,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典编码",prop:"dictCode"}},[a("el-input",{attrs:{type:"text"},model:{value:e.SysDic.dictCode,callback:function(t){e.$set(e.SysDic,"dictCode",t)},expression:"SysDic.dictCode"}})],1),a("el-form-item",{attrs:{label:"字典描述",prop:"dictDesc"}},[a("el-input",{attrs:{type:"text"},model:{value:e.SysDic.dictDesc,callback:function(t){e.$set(e.SysDic,"dictDesc",t)},expression:"SysDic.dictDesc"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"添加子字典",name:"second"}},[a("el-form",{ref:"addForm",attrs:{model:e.SysDic,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典编码",prop:"dictCode"}},[a("el-input",{attrs:{type:"text"},model:{value:e.SysDic.dictCode,callback:function(t){e.$set(e.SysDic,"dictCode",t)},expression:"SysDic.dictCode"}})],1),a("el-form-item",{attrs:{label:"字典值",prop:"dictValue"}},[a("el-input",{attrs:{type:"text"},model:{value:e.SysDic.dictValue,callback:function(t){e.$set(e.SysDic,"dictValue",t)},expression:"SysDic.dictValue"}})],1),a("el-form-item",{attrs:{label:"字典描述",prop:"dictDesc"}},[a("el-input",{attrs:{type:"text"},model:{value:e.SysDic.dictDesc,callback:function(t){e.$set(e.SysDic,"dictDesc",t)},expression:"SysDic.dictDesc"}})],1),a("el-form-item",{attrs:{label:"所属父级",prop:"parenIndex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.SysDic.parentCode,callback:function(t){e.$set(e.SysDic,"parentCode",t)},expression:"SysDic.parentCode"}},e._l(e.allParentDict,(function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.dictDesc,value:e.dictCode,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.addHandleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addDict}},[e._v("添加")])],1)]),a("el-select",{staticClass:"dictSelector",attrs:{placeholder:"请选择字典类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.dictType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.desc,value:t.value,disabled:t.disabled},nativeOn:{click:function(t){return e.changeCurrentPageHandler(1)}}})})),1),e.isSon?a("el-select",{staticClass:"dictSelector",attrs:{placeholder:"请选择根字典"},model:{value:e.parentId,callback:function(t){e.parentId=t},expression:"parentId"}},e._l(e.allParentDict,(function(t){return a("el-option",{key:t.dictCode,attrs:{label:t.dictDesc,value:t.id,disabled:t.disabled},nativeOn:{click:function(t){return e.changeCurrentPageHandler(1)}}})})),1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dictList,height:"700"}},[a("el-table-column",{attrs:{label:"字典编号",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"字典编码",width:"400",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.dictCode))])],1)]}}])}),a("el-table-column",{attrs:{label:"字典描述",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.dictDesc))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"字典编辑",visible:e.dictEditVisible,width:"30%","before-close":e.editHandleClose}},[a("span",[a("el-form",{attrs:{model:e.currentDict,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典id",prop:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.currentDict.id,callback:function(t){e.$set(e.currentDict,"id",t)},expression:"currentDict.id"}})],1),a("el-form-item",{attrs:{label:"字典编码",prop:"dictCode"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentDict.dictCode,callback:function(t){e.$set(e.currentDict,"dictCode",t)},expression:"currentDict.dictCode"}})],1),1==e.type?a("el-form-item",{attrs:{label:"字典值",prop:"dictValue"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentDict.dictValue,callback:function(t){e.$set(e.currentDict,"dictValue",t)},expression:"currentDict.dictValue"}})],1):e._e(),a("el-form-item",{attrs:{label:"字典描述",prop:"dictDesc"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentDict.dictDesc,callback:function(t){e.$set(e.currentDict,"dictDesc",t)},expression:"currentDict.dictDesc"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dictEditVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editDict}},[e._v("修改")])],1)]),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},Mt=[],Ut={name:"SysDictList",data(){return{dictList:[],allParentDict:[],SysDic:{},dictType:[{desc:"根字典",value:"0"},{desc:"子字典",value:"1"}],type:"",isSon:!1,parentId:"",activeName:"first",sysDictAddVisible:!1,parentMenuList:[],checkedParentMenu:"",pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},dictEditVisible:!1,currentDict:{}}},mounted(){},created(){window.document.title="系统字典",this.type="0",this.changeCurrentPageHandler(1)},methods:{handleDelete(e,t){this.httpRequest.post("sysDict/deleteDict/"+t.id).then((e=>{this.changeCurrentPageHandler(1)}))},editHandleClose(){this.dictEditVisible=!1},handleEdit(e,t){console.log(t),this.currentDict=t,this.dictEditVisible=!0},editDict(){this.httpRequest.post("sysDict/editDict",this.currentDict).then((e=>{this.changeCurrentPageHandler(1),this.currentDict={},this.dictEditVisible=!1}))},changeCurrentPageHandler(e){1==this.type&&0==this.isSon&&(this.dictList=[],this.isSon=!0,this.getAllParentDict()),0==this.type&&1==this.isSon&&(this.parentId="",this.isSon=!1),(0==this.type||""!=this.parentId&&1==this.type)&&this.httpRequest.get("sysDict/selectDict?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&orderType=1&type="+this.type+"&parentId="+this.parentId).then((e=>{this.pagination.currentPage=e.data.dictList.currentPage,this.pagination.pageSize=e.data.dictList.pageSize,this.pagination.total=e.data.dictList.totalSize,this.pagination.totalPage=e.data.dictList.totalPage,this.dictList=e.data.dictList.resultList}))},addDict(){let e={dictCode:this.SysDic.dictCode,dictValue:this.SysDic.dictValue,dictDesc:this.SysDic.dictDesc,parentCode:this.SysDic.parentCode};this.httpRequest.post("sysDict/addDict",e).then((e=>{this.sysDictAddVisible=!1,this.SysDic={},this.changeCurrentPageHandler(1)}))},getAllParentDict(){this.httpRequest.get("sysDict/parentSysDictList").then((e=>{this.allParentDict=e.data.sysDictList}))},showSysDictAddForm(){this.getAllParentDict(),this.sysDictAddVisible=!0},addHandleClose(){this.sysDictAddVisible=!1,this.changeCurrentPageHandler(1)},handleClick(e,t){}}},Ot=Ut,Zt=(0,c.Z)(Ot,Vt,Mt,!1,null,"2f4a4afa",null),Bt=Zt.exports,Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"700"}},[a("el-table-column",{attrs:{label:"文件编号",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"上传时间",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.uploadTime))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileName))])],1)]}}])}),a("el-table-column",{attrs:{label:"文件类型",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.fileType))])],1)]}}])}),a("el-table-column",{attrs:{label:"到期时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.expire)+"小时")])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.recoveryFile(t.$index,t.row)}}},[e._v("恢复 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("彻底删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,"page-count":e.pagination.totalPage,layout:"prev, pager, next",total:e.pagination.total},on:{"current-change":e.changeCurrentPageHandler}})],1)},jt=[],Jt={name:"FileRecovery",data(){return{fileList:[],deleteLoading:!1,pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},key:""}},mounted(){},created(){window.document.title="文件恢复",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{queryFile(){this.changeCurrentPageHandler(1)},changeCurrentPageHandler(e){this.httpRequest.get("storage/allDeleteFile?page="+e+"&limit="+this.pagination.pageSize+"&orderFiled=id&key="+this.key+"&orderType=1").then((e=>{this.pagination.currentPage=e.data.fileList.currentPage,this.pagination.pageSize=e.data.fileList.pageSize,this.pagination.total=e.data.fileList.totalSize,this.pagination.totalPage=e.data.fileList.totalPage,this.fileList=e.data.fileList.resultList}))},recoveryFile(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/fileRecovery/"+t.id).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1},handleDelete(e,t){this.deleteLoading=!0,this.httpRequest.post("storage/trueDeleteFile/"+t.id).then((e=>{this.changeCurrentPageHandler(1)})),this.deleteLoading=!1}}},Wt=Jt,Gt=(0,c.Z)(Wt,Kt,jt,!1,null,"24a9f86f",null),Xt=Gt.exports;i["default"].use(s.Z);const Qt=[{path:"/",name:"login",meta:{isExist:!0},component:u},{path:"/register",name:"register",component:E},{path:"/reset",name:"reset",component:O},{path:"/main",name:"main",component:b,children:[{path:"/index",name:"systemIndex",component:z},{path:"/user/permissionList",name:"permissionList",meta:{isLogin:!0},component:te},{path:"/user/roleList",name:"roleList",meta:{isLogin:!0},component:W},{path:"/user/userList",name:"userList",meta:{isLogin:!0},component:k},{path:"/user/menuList",name:"menuList",meta:{isLogin:!0},component:Ee},{path:"/user/sysDictList",name:"sysDictList",meta:{isLogin:!0},component:Bt},{path:"/user/resource",name:"resource",meta:{isLogin:!0},component:Oe},{path:"/user/sysLogList",name:"sysLogList",meta:{isLogin:!0},component:We},{path:"/storage/fileList",name:"fileList",meta:{isLogin:!0},component:me},{path:"/storage/imageList",name:"imageList",meta:{isLogin:!0},component:we},{path:"/storage/videoList",name:"videoList",meta:{isLogin:!0},component:De},{path:"/storage/audioList",name:"audioList",meta:{isLogin:!0},component:xe},{path:"/storage/fileRecovery",name:"fileRecovery",meta:{isLogin:!0},component:Xt},{path:"/chatGPT/textRequest",name:"textRequest",meta:{isLogin:!0},component:it},{path:"/image/scale",name:"scale",meta:{isLogin:!0},component:ct},{path:"/tv/tvSearch",name:"tvSearch",meta:{isLogin:!0},component:It},{path:"/news/cnJingJiItNews",name:"cnJingJiItNews",meta:{isLogin:!0},component:Lt},{path:"/news/cnPeopleNews",name:"cnPeopleNews",meta:{isLogin:!0},component:ht},{path:"/news/cnTouTiaoNews",name:"cnTouTiaoNews",meta:{isLogin:!0},component:_t},{path:"/news/CnWeiBoHotSearch",name:"cnWeiBoHotSearch",meta:{isLogin:!0},component:qt}]},{path:"*",name:"404",meta:{isLogin:!0},component:ne}],Yt=new s.Z({routes:Qt});Yt.beforeEach(((e,t,a)=>{e.meta.isExist&&(null==localStorage.getItem("token")?a():a({path:"/index"})),e.meta.isLogin?(null==localStorage.getItem("token")&&($.Message.info("请先登录"),a({path:"/index"})),a()):a()}));const ea=s.Z.prototype.push;s.Z.prototype.push=function(e){return ea.call(this,e).catch((e=>e))};var ta=Yt,aa=a(58569),ia=a.n(aa),sa=a(70596),ra=a.n(sa),la=a(54705),na=a.n(la),oa=a(9669),ca=a.n(oa),da=ca().create({baseURL:"http://nobibibi.top:8888/"});da.interceptors.request.use((function(e){return null!=localStorage.getItem("token")&&(e.headers["token"]=localStorage.getItem("token")),e}),(function(e){return Promise.reject(e)})),da.interceptors.response.use((function(e){return e.status&&200==e.status?(null!=e.headers["auth"]&&localStorage.setItem("token",e.headers["auth"]),11001==e.data.code&&(localStorage.setItem("menus",JSON.stringify(e.data.menus)),localStorage.setItem("username",e.data.username)),21037==e.data.code?($.Message.error(e.data.msg),localStorage.clear(),void location.replace("/")):0==e.data.code||e.data.code>=1e4&&e.data.code<2e4||1e3==e.data.code?($.Message.success(e.data.msg),e):e.data.code>2e4?void $.Message.error(e.data.msg):void $.Message.info(e.data.msg)):void $.Message.error("请求失败")}),(function(e){$.Message.error("请求失败")}));var ua=da,pa=ca().create({baseURL:"http://nobibibi.top:5000/"});pa.interceptors.request.use((function(e){return null!=localStorage.getItem("username")&&(e.headers["username"]=localStorage.getItem("username")),e}),(function(e){return Promise.reject(e)})),pa.interceptors.response.use((function(e){return e.status&&200==e.status?0==e.data.code||e.data.code>=1e4&&e.data.code<2e4||200==e.data.code?($.Message.success(e.data.msg),e):e.data.code>2e4?void $.Message.error(e.data.msg):void $.Message.info(e.data.msg):void $.Message.error("请求失败")}),(function(e){$.Message.error("请求失败")}));var ma=pa,ga=a(20629);i["default"].use(ga.ZP);const ha={},fa={STORAGE_TOKEN(e,t){localStorage.setItem("token",t),e.token=t},STORAGE_USER_NAME(e,t){localStorage.setItem("username",t),e.user=t},CLEAN_LOGIN_DATA(e){localStorage.clear(),e.token=null,e.username=null}},ba={username:null,token:null};let va=new ga.ZP.Store({actions:ha,mutations:fa,state:ba});var wa=va,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},_a=[],Sa={},ka=(0,c.Z)(Sa,ya,_a,!1,null,null,null),Ca=ka.exports;i["default"].use(D()),i["default"].use(ia()),i["default"].prototype.$echarts=ra(),i["default"].use(na()),i["default"].prototype.httpRequest=ua,i["default"].prototype.chart=ma,i["default"].config.productionTip=!1,new i["default"]({router:ta,render:e=>e(Ca),store:wa}).$mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,r){if(!i){var l=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],r=e[d][2];for(var n=!0,o=0;o<i.length;o++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](i[o])}))?i.splice(o--,1):(n=!1,r<l&&(l=r));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,r,l=i[0],n=i[1],o=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(o)var d=o(a)}for(t&&t(i);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},i=self["webpackChunksomg"]=self["webpackChunksomg"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(2454)}));i=a.O(i)})();
//# sourceMappingURL=app.f8cc796f.js.map